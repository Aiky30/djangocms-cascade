{% load static cms_js_tags sekizai_tags thumbnail l10n %}

{% addtoblock "css" %}<link href="{% static 'node_modules/leaflet/dist/leaflet.css' %}" rel="stylesheet" type="text/css" />{% endaddtoblock %}
{% addtoblock "js" %}<script src="{% static 'node_modules/leaflet/dist/leaflet.js' %}" type="text/javascript" />{% endaddtoblock %}

{% addtoblock "css" %}
<style>
#cascadeelement_id-{{ instance.pk }} {
	width: 100%;
	height: 300px;
}
</style>
{% endaddtoblock %}

{% addtoblock "js" %}
<script type="text/javascript">
var glossary = {{ instance.glossary|json }};
var mymap = L.map('cascadeelement_id-{{ instance.pk }}').setView([glossary.latitude, glossary.longitude], glossary.zoomlevel);
L.tileLayer(
	'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',
	{{ settings|json }}
).addTo(mymap);

L.marker([glossary.latitude, glossary.longitude]).addTo(mymap)
	.bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();
</script>
{% endaddtoblock %}

<div id="cascadeelement_id-{{ instance.pk }}"></div>
